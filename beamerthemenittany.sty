\mode<presentation>

\usepackage{tikz}
\usetikzlibrary {shapes.geometric}
\usepackage{graphicx}
\usepackage{calc}

\newtoks \lablogo
\newtoks \institutionlogo
\newtoks \locationlogo
\newtoks \titlebg

\usecolortheme{nittany}
\useinnertheme{nittany}
\useoutertheme{nittany}

\setbeamertemplate{title page}[nittany]%
%\setbeamertemplate{headline}[nittany]%
%\setbeamertemplate{footline}[nittany]%

\BeforeBeginEnvironment{frame}{%
  \setbeamertemplate{headline}[nittany]%
  \setbeamertemplate{footline}[nittany]%
}

\makeatletter
\define@key{beamerframe}{nittanytitle}[true]{%
  \setbeamertemplate{headline}[nittanytitle]%
  \setbeamertemplate{footline}[nittanytitle]%
  \setbeamertemplate{title page}[nittanytitle]%
}
\makeatother

\makeatletter
\define@key{beamerframe}{nittanysection}[true]{%
  \setbeamertemplate{headline}[nittany]%
  \setbeamertemplate{footline}[nittany]%
  \setbeamertemplate{frametitle}[nittanysection]%
}
\makeatother

\makeatletter
\define@key{beamerframe}{nittany}[true]{%
  \setbeamertemplate{headline}{}%
  \setbeamertemplate{footline}{}%
  \setbeamertemplate{frametitle}[nittany]%
  \setbeamertemplate{title page}[nittany]%
}
\makeatother

\newif\ifframeinlbf
\frameinlbftrue

\makeatletter
\newcommand\listofframes{\vfill\@starttoc{lbf\thesection}}
\makeatother